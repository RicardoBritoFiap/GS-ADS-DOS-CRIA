<!DOCTYPE html>
<html>
<head>
    <title>Gerenciamento de Pacientes</title>
    <script>
        function createPaciente() {
            const email = document.getElementById('createEmail').value;
            const data = { email };

            fetch('/paciente/create', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(data),
            })
            .then(response => response.json())
            .then(data => {
                console.log('Paciente Criado:', data);
                alert('Paciente criado com sucesso!');
            })
            .catch((error) => {
                console.error('Erro:', error);
                alert('Erro ao criar paciente.');
            });
        }

        function readPacientes() {
            fetch('/paciente/read')
            .then(response => response.json())
            .then(data => {
                console.log('Pacientes:', data);
                alert(JSON.stringify(data));
            })
            .catch((error) => {
                console.error('Erro:', error);
            });
        }

        function updatePaciente() {
            const id = document.getElementById('updateId').value;
            const email = document.getElementById('updateEmail').value;
            const data = { email };

            fetch('/paciente/update/' + id, {
                method: 'PUT',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(data),
            })
            .then(response => response.json())
            .then(data => {
                console.log('Paciente Atualizado:', data);
                alert('Paciente atualizado com sucesso!');
            })
            .catch((error) => {
                console.error('Erro:', error);
                alert('Erro ao atualizar paciente.');
            });
        }

        function deletePaciente() {
            const id = document.getElementById('deleteId').value;

            fetch('/paciente/delete/' + id, {
                method: 'DELETE'
            })
            .then(response => response.json())
            .then(data => {
                console.log('Paciente Deletado:', data);
                alert('Paciente deletado com sucesso!');
            })
            .catch((error) => {
                console.error('Erro:', error);
                alert('Erro ao deletar paciente.');
            });
        }
    </script>
</head>
<body>
    <h1>Gerenciamento de Pacientes</h1>
    
    <h2>Criar Paciente</h2>
    <input type="email" id="createEmail" placeholder="Email do Paciente">
    <button onclick="createPaciente()">Criar Paciente</button>

    <h2>Listar Pacientes</h2>
    <button onclick="readPacientes()">Listar Pacientes</button>

    <h2>Atualizar Paciente</h2>
    <input type="number" id="updateId" placeholder="ID do Paciente">
    <input type="email" id="updateEmail" placeholder="Novo Email do Paciente">
    <button onclick="updatePaciente()">Atualizar Paciente</button>

    <h2>Deletar Paciente</h2>
    <input type="number" id="deleteId" placeholder="ID do Paciente">
    <button onclick="deletePaciente()">Deletar Paciente</button>

</body>
</html>
